# =========================================================================
#     This makefile was generated by
#     Bakefile 0.1.8 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================



# -------------------------------------------------------------------------
# These are configurable options:
# -------------------------------------------------------------------------

# C compiler 
CC = gcc

# Standard flags for CC 
CFLAGS = 

# Standard preprocessor flags (common for CC and CXX) 
CPPFLAGS = 

# Standard linker flags 
LDFLAGS = 

#  [debug,release]
BUILD = release



# -------------------------------------------------------------------------
# Do not modify the rest of this file!
# -------------------------------------------------------------------------

### Variables: ###

orxPLATFORM = WINDOWS
ORX_CFLAGS = $(__orxOPTIMIZEFLAG) $(__orxDEBUGFLAG) $(__orxDEBUG_p) \
	-D$(orxPLATFORM) -Iinclude $(CPPFLAGS) $(CFLAGS)
ORX_OBJECTS =  \
	.\build\$(BUILD)\orx_orxAnim.o \
	.\build\$(BUILD)\orx_orxAnimPointer.o \
	.\build\$(BUILD)\orx_orxAnimSet.o \
	.\build\$(BUILD)\orx_orxCamera.o \
	.\build\$(BUILD)\orx_orxRender.o \
	.\build\$(BUILD)\orx_orxViewport.o \
	.\build\$(BUILD)\orx_clock.o \
	.\build\$(BUILD)\orx_timer.o \
	.\build\$(BUILD)\orx_orxDebug.o \
	.\build\$(BUILD)\orx_orxFps.o \
	.\build\$(BUILD)\orx_graph.o \
	.\build\$(BUILD)\orx_graphic.o \
	.\build\$(BUILD)\orx_texture.o \
	.\build\$(BUILD)\orx_file.o \
	.\build\$(BUILD)\orx_interaction.o \
	.\build\$(BUILD)\orx_joystick.o \
	.\build\$(BUILD)\orx_keyboard.o \
	.\build\$(BUILD)\orx_mouse.o \
	.\build\$(BUILD)\orx_package.o \
	.\build\$(BUILD)\orx_coord.o \
	.\build\$(BUILD)\orx_orxBank.o \
	.\build\$(BUILD)\orx_orxMemory.o \
	.\build\$(BUILD)\orx_orxFrame.o \
	.\build\$(BUILD)\orx_orxObject.o \
	.\build\$(BUILD)\orx_orxStructure.o \
	.\build\$(BUILD)\orx_plugin.o \
	.\build\$(BUILD)\orx_sound.o \
	.\build\$(BUILD)\orx_orxLinkList.o \
	.\build\$(BUILD)\orx_orxTest.o \
	.\build\$(BUILD)\orx_orxTree.o \
	.\build\$(BUILD)\orx_pathfinder.o \
	.\build\$(BUILD)\orx_screenshot.o \
	.\build\$(BUILD)\orx_utils.o
MEMORY_CFLAGS = $(__orxOPTIMIZEFLAG) $(__orxDEBUGFLAG) $(__orxDEBUG_p) \
	-D$(orxPLATFORM) -Iinclude $(CPPFLAGS) $(CFLAGS)
MEMORY_OBJECTS =  \
	.\build\$(BUILD)\memory_orxTest_Memory.o
BANK_CFLAGS = $(__orxOPTIMIZEFLAG) $(__orxDEBUGFLAG) $(__orxDEBUG_p) \
	-D$(orxPLATFORM) -Iinclude $(CPPFLAGS) $(CFLAGS)
BANK_OBJECTS =  \
	.\build\$(BUILD)\bank_orxTest_Bank.o
TESTBED_CFLAGS = $(__orxOPTIMIZEFLAG) $(__orxDEBUGFLAG) $(__orxDEBUG_p) \
	-D$(orxPLATFORM) -Iinclude $(CPPFLAGS) $(CFLAGS)
TESTBED_OBJECTS =  \
	.\build\$(BUILD)\testbed_orxTest_Main.o

### Conditionally set variables: ###

ifeq ($(BUILD),debug)
orxSUFFIX = d
endif
ifeq ($(BUILD),release)
orxSUFFIX = 
endif
ifeq ($(BUILD),debug)
__orxOPTIMIZEFLAG = -O0
endif
ifeq ($(BUILD),release)
__orxOPTIMIZEFLAG = -O2
endif
ifeq ($(BUILD),debug)
__orxDEBUG_p = -DDEBUG
endif
ifeq ($(BUILD),release)
__orxDEBUG_p = 
endif
ifeq ($(BUILD),debug)
__orxDEBUGFLAG = -g
endif
ifeq ($(BUILD),release)
__orxDEBUGFLAG = 
endif


all: .\build\$(BUILD)
.\build\$(BUILD):
	-if not exist .\build\$(BUILD) mkdir .\build\$(BUILD)

### Targets: ###

all: lib\liborx$(orxSUFFIX).a bin\modules\memory.dll bin\modules\bank.dll bin\testbed.exe

clean: 
	-if exist .\build\$(BUILD)\*.o del .\build\$(BUILD)\*.o
	-if exist lib\liborx$(orxSUFFIX).a del lib\liborx$(orxSUFFIX).a
	-if exist bin\modules\memory.dll del bin\modules\memory.dll
	-if exist bin\modules\libmemory.a del bin\modules\libmemory.a
	-if exist bin\modules\bank.dll del bin\modules\bank.dll
	-if exist bin\modules\libbank.a del bin\modules\libbank.a
	-if exist bin\testbed.exe del bin\testbed.exe

lib\liborx$(orxSUFFIX).a: $(ORX_OBJECTS)
	if exist $@ del $@
	ar rcu $@ $(ORX_OBJECTS)
	ranlib $@

bin\modules\memory.dll: $(MEMORY_OBJECTS) lib\liborx$(orxSUFFIX).a lib\liborx$(orxSUFFIX).a
	$(CC) -shared -fPIC -o $@ $(MEMORY_OBJECTS) $(LDFLAGS) $(__orxDEBUGFLAG) -Wl,--out-implib,bin\modules\libmemory.a  lib\liborx$(orxSUFFIX).a

bin\modules\bank.dll: $(BANK_OBJECTS) lib\liborx$(orxSUFFIX).a lib\liborx$(orxSUFFIX).a
	$(CC) -shared -fPIC -o $@ $(BANK_OBJECTS) $(LDFLAGS) $(__orxDEBUGFLAG) -Wl,--out-implib,bin\modules\libbank.a  lib\liborx$(orxSUFFIX).a

bin\testbed.exe: $(TESTBED_OBJECTS) lib\liborx$(orxSUFFIX).a lib\liborx$(orxSUFFIX).a
	$(CC) -o $@ $(TESTBED_OBJECTS) $(LDFLAGS) $(__orxDEBUGFLAG)    lib\liborx$(orxSUFFIX).a

.\build\$(BUILD)\orx_orxAnim.o: ./src/anim/orxAnim.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxAnimPointer.o: ./src/anim/orxAnimPointer.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxAnimSet.o: ./src/anim/orxAnimSet.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxCamera.o: ./src/camera/orxCamera.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxRender.o: ./src/camera/orxRender.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxViewport.o: ./src/camera/orxViewport.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_clock.o: ./src/core/clock.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_timer.o: ./src/core/timer.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxDebug.o: ./src/debug/orxDebug.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxFps.o: ./src/debug/orxFps.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_graph.o: ./src/graph/graph.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_graphic.o: ./src/graph/graphic.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_texture.o: ./src/graph/texture.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_file.o: ./src/io/file.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_interaction.o: ./src/io/interaction.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_joystick.o: ./src/io/joystick.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_keyboard.o: ./src/io/keyboard.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_mouse.o: ./src/io/mouse.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_package.o: ./src/io/package.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_coord.o: ./src/math/coord.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxBank.o: ./src/memory/orxBank.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxMemory.o: ./src/memory/orxMemory.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxFrame.o: ./src/object/orxFrame.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxObject.o: ./src/object/orxObject.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxStructure.o: ./src/object/orxStructure.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_plugin.o: ./src/plugin/plugin.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_sound.o: ./src/sound/sound.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxLinkList.o: ./src/utils/orxLinkList.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxTest.o: ./src/utils/orxTest.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_orxTree.o: ./src/utils/orxTree.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_pathfinder.o: ./src/utils/pathfinder.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_screenshot.o: ./src/utils/screenshot.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\orx_utils.o: ./src/utils/utils.c
	$(CC) -c -o $@ $(ORX_CFLAGS) $<

.\build\$(BUILD)\memory_orxTest_Memory.o: ./test/orxTest_Memory.c
	$(CC) -c -o $@ $(MEMORY_CFLAGS) $<

.\build\$(BUILD)\bank_orxTest_Bank.o: ./test/orxTest_Bank.c
	$(CC) -c -o $@ $(BANK_CFLAGS) $<

.\build\$(BUILD)\testbed_orxTest_Main.o: ./test/orxTest_Main.c
	$(CC) -c -o $@ $(TESTBED_CFLAGS) $<

.PHONY: all clean


